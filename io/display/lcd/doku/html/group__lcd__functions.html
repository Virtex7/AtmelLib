<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>HD44780 Library: Library Functions</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Library Functions</h1>These functions are used for accessing the display.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g0024da29b32bafdae7aa8d344791d674"></a><!-- doxytag: member="lcd_functions::LCD_OFF" ref="g0024da29b32bafdae7aa8d344791d674" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g0024da29b32bafdae7aa8d344791d674">LCD_OFF</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cursor Mode: Display completely off. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g2b4b9543a586076b8cd5b21c1726abb2"></a><!-- doxytag: member="lcd_functions::LCD_ON_CURSOR_AND_BLINK" ref="g2b4b9543a586076b8cd5b21c1726abb2" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g2b4b9543a586076b8cd5b21c1726abb2">LCD_ON_CURSOR_AND_BLINK</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cursor Mode: Cursor and Blink (underline and blink the current character). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gffee496035102184ae39927978e69934"></a><!-- doxytag: member="lcd_functions::LCD_ON_CURSOR_BLINK" ref="gffee496035102184ae39927978e69934" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gffee496035102184ae39927978e69934">LCD_ON_CURSOR_BLINK</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cursor Mode: Blink the current character. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g906a5046affd4573e8bb1d24451868bc"></a><!-- doxytag: member="lcd_functions::LCD_ON_CURSOR_OFF" ref="g906a5046affd4573e8bb1d24451868bc" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g906a5046affd4573e8bb1d24451868bc">LCD_ON_CURSOR_OFF</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cursor Mode: No cursor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gccb8a1ca6d8f6ad997e1df6dea481a4b"></a><!-- doxytag: member="lcd_functions::LCD_ON_CURSOR_ON" ref="gccb8a1ca6d8f6ad997e1df6dea481a4b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gccb8a1ca6d8f6ad997e1df6dea481a4b">LCD_ON_CURSOR_ON</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Cursor Mode: Cursor on (underline the current character). <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd235a86241458b1e7b8771688bfdaf9a"></a><!-- doxytag: member="lcd_functions::lcd_clear" ref="gd235a86241458b1e7b8771688bfdaf9a" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gd235a86241458b1e7b8771688bfdaf9a">lcd_clear</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the LCD (takes 3ms to execute) and go back to the start position For two-controller displays: switch back to the first controller after this. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g577127e048d083cb55aa602cbc5a1cfe"></a><!-- doxytag: member="lcd_functions::lcd_command" ref="g577127e048d083cb55aa602cbc5a1cfe" args="(uint8_t data)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g577127e048d083cb55aa602cbc5a1cfe">lcd_command</a> (uint8_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a raw command and wait for the execution time (3ms for home and clear, 100µs for all other commands). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g70ff998a1fbdc2f2c8857b5fd7407436">lcd_customchar</a> (uint8_t number, uint8_t *data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a custom character.  <a href="#g70ff998a1fbdc2f2c8857b5fd7407436"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#ga359b210285538e2fb99c2066586f3c8">lcd_customchar_P</a> (uint8_t number, PGM_P data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a custom character from ROM This is like <a class="el" href="group__lcd__functions.html#g70ff998a1fbdc2f2c8857b5fd7407436" title="Add a custom character.">lcd_customchar()</a>, but the character is stored in flash ROM and does not consume RAM space.  <a href="#ga359b210285538e2fb99c2066586f3c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gd0729d2cba627825a089ca1fff12ba29"></a><!-- doxytag: member="lcd_functions::lcd_data" ref="gd0729d2cba627825a089ca1fff12ba29" args="(uint8_t data)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gd0729d2cba627825a089ca1fff12ba29">lcd_data</a> (uint8_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send data and wait 50µs. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3aabf730aa4e0393bb5c959583c00a8e"></a><!-- doxytag: member="lcd_functions::lcd_home" ref="g3aabf730aa4e0393bb5c959583c00a8e" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g3aabf730aa4e0393bb5c959583c00a8e">lcd_home</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to the start position (takes 3ms to execute) This also resets some shift-options that can be set by special LCD commands. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g6842775ba83d166f02b8fef8bb63b1e6">lcd_init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise the LCD.  <a href="#g6842775ba83d166f02b8fef8bb63b1e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g52872b8bc9e8fc6988edb1dad61a33a2">lcd_linewrap</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(internal function) If the cursor has passed the end of a line, set the position to the beginning of the next line  <a href="#g52872b8bc9e8fc6988edb1dad61a33a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga5ed1c9a2a2fde3f98b02102c889dab9"></a><!-- doxytag: member="lcd_functions::lcd_nibble" ref="ga5ed1c9a2a2fde3f98b02102c889dab9" args="(uint8_t data)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#ga5ed1c9a2a2fde3f98b02102c889dab9">lcd_nibble</a> (uint8_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a half-byte in 4-bit-mode to the LCD. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g8531c55ba576c0b39c0d72bd6617c91f">lcd_print</a> (char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a string after clearing the display.  <a href="#g8531c55ba576c0b39c0d72bd6617c91f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gb55f2679b2a60dd5ff9795feddffb4ba">lcd_putchar</a> (char chr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a single char to the LCD at the current position.  <a href="#gb55f2679b2a60dd5ff9795feddffb4ba"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g441efb2945fb74fafb7914d6bd2d8161">lcd_putstr</a> (char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a string starting at the current position.  <a href="#g441efb2945fb74fafb7914d6bd2d8161"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gd3226e2e167c11093fa3641e5f33f732">lcd_putstr_P</a> (PGM_P str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a string from ROM starting at the current position.  <a href="#gd3226e2e167c11093fa3641e5f33f732"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g615cf8980680849dce3c379d30e30ec6">lcd_set_controller</a> (uint8_t num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(internal function) Select the controller  <a href="#g615cf8980680849dce3c379d30e30ec6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g9a4f2e437d82747664790aed0f1e4b69">lcd_set_cursor</a> (uint8_t mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the cursor mode, switches the LCD on or off.  <a href="#g9a4f2e437d82747664790aed0f1e4b69"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g25866d401362c56e699caec5336252dc"></a><!-- doxytag: member="lcd_functions::lcd_set_line" ref="g25866d401362c56e699caec5336252dc" args="(uint8_t x)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g25866d401362c56e699caec5336252dc">lcd_set_line</a> (uint8_t x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to the start of the specified line. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g2f118878f15d5d64fade1bbc193be2fc">lcd_set_position</a> (uint8_t position)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to the specified position.  <a href="#g2f118878f15d5d64fade1bbc193be2fc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g932614e4a3dde92103df18b6868da624">lcd_write</a> (uint8_t data, uint8_t rs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data or commands to the LCD.  <a href="#g932614e4a3dde92103df18b6868da624"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g47953d9e2decd2990fc652bde6fe1683">lcd_controller</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">global variable that stores the active controller (or 255 for all controllers).  <a href="#g47953d9e2decd2990fc652bde6fe1683"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#gbf201c7a38b9d01b88cdae2abe2ea3b0">lcd_cursor_mode</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">global variable that stores the last cursor mode  <a href="#gbf201c7a38b9d01b88cdae2abe2ea3b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lcd__functions.html#g1d540b50dad7f76e97d843dd6f14a855">lcd_position</a> = 0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">global variable that stores the current position.  <a href="#g1d540b50dad7f76e97d843dd6f14a855"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
These functions are used for accessing the display. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g70ff998a1fbdc2f2c8857b5fd7407436"></a><!-- doxytag: member="lcd.c::lcd_customchar" ref="g70ff998a1fbdc2f2c8857b5fd7407436" args="(uint8_t number, uint8_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_customchar           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a custom character. 
<p>
This writes a custom character into character generator RAM. For displays with 5x8 pixel characters (the default), eight characters consisting of eight lines each can be stored. The eigth line is the cursor position which should be kept empty. Displays with 5x10 pixel characters can only store four characters consisting of eleven lines where the eleventh line is the cursor position.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>number</em>&nbsp;</td><td>The number can be between 0 and 7 (or 0-3 for 5x10 char displays). The saved character can be accessed by this number: You can include your characters in a string like "hello\001". Due to technical limitations in C the character number zero can currently not really be used - 0x00 is the string terminating character so it cannot be included into strings. It can only be printed using lcd_putchar(0).</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>The character is supplied as array of uint8_t. Each line is one byte, bit 4 is the leftmost pixel and bit 0 is the rightmost pixel. The top line is the first byte.</td></tr>
  </table>
</dl>
Example for 5x8 pixel character: This displays a black outlined box (the eight line is the cursor position). <div class="fragment"><pre class="fragment">uint8_t character_box[]= {
0b00011111,
0b00010001,
0b00010001,
0b00010001,
0b00010001,
0b00010001,
0b00011111,
0b00000000 }
<a class="code" href="group__lcd__functions.html#g70ff998a1fbdc2f2c8857b5fd7407436" title="Add a custom character.">lcd_customchar</a>(1,character_box);
<a class="code" href="group__lcd__functions.html#g8531c55ba576c0b39c0d72bd6617c91f" title="Write a string after clearing the display.">lcd_print</a>(<span class="stringliteral">"This is a box: \001"</span>);
</pre></div> 
<p>Definition at line <a class="el" href="lcd_8c-source.html#l00479">479</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00132">lcd_command()</a>, <a class="el" href="lcd_8c-source.html#l00143">lcd_data()</a>, <a class="el" href="lcd_8c-source.html#l00250">lcd_home()</a>, <a class="el" href="lcd_8h-source.html#l00169">LCD_SET_CGRAM_ADDR</a>, and <a class="el" href="lcd_8h-source.html#l00172">LCD_SET_DDRAM_ADDR</a>.</p>

</div>
</div><p>
<a class="anchor" name="ga359b210285538e2fb99c2066586f3c8"></a><!-- doxytag: member="lcd.c::lcd_customchar_P" ref="ga359b210285538e2fb99c2066586f3c8" args="(uint8_t number, PGM_P data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_customchar_P           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a custom character from ROM This is like <a class="el" href="group__lcd__functions.html#g70ff998a1fbdc2f2c8857b5fd7407436" title="Add a custom character.">lcd_customchar()</a>, but the character is stored in flash ROM and does not consume RAM space. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>test this</dd></dl>
Example: <div class="fragment"><pre class="fragment"><span class="comment">// this needs to be global (out of any function, out of main):</span>
<span class="keyword">const</span> PROGMEM uint8_t character_box[]= {
0b00011111,
0b00010001,
0b00010001,
0b00010001,
0b00010001,
0b00010001,
0b00011111,
0b00000000 }

<span class="comment">// in the function:</span>
<a class="code" href="group__lcd__functions.html#ga359b210285538e2fb99c2066586f3c8" title="Add a custom character from ROM This is like lcd_customchar(), but the character...">lcd_customchar_P</a>(1,character_box);
<a class="code" href="group__lcd__functions.html#g8531c55ba576c0b39c0d72bd6617c91f" title="Write a string after clearing the display.">lcd_print</a>(<span class="stringliteral">"This is a box: \001"</span>);
</pre></div> 
<p>Definition at line <a class="el" href="lcd_8c-source.html#l00524">524</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00132">lcd_command()</a>, <a class="el" href="lcd_8c-source.html#l00143">lcd_data()</a>, <a class="el" href="lcd_8c-source.html#l00250">lcd_home()</a>, <a class="el" href="lcd_8h-source.html#l00169">LCD_SET_CGRAM_ADDR</a>, and <a class="el" href="lcd_8h-source.html#l00172">LCD_SET_DDRAM_ADDR</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6842775ba83d166f02b8fef8bb63b1e6"></a><!-- doxytag: member="lcd.c::lcd_init" ref="g6842775ba83d166f02b8fef8bb63b1e6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialise the LCD. 
<p>
Call this function before using the LCD and 100ms after the supply voltage has become stable. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>automatisches Setzen von 2LINES austesten </dd></dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00181">181</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00056">LCD_EN()</a>, <a class="el" href="lcd_8h-source.html#l00154">LCD_FUNCTION</a>, <a class="el" href="lcd_8h-source.html#l00160">LCD_FUNCTION_2LINES</a>, <a class="el" href="lcd_8h-source.html#l00158">LCD_FUNCTION_4BIT</a>, <a class="el" href="lcd_8h-source.html#l00164">LCD_FUNCTION_5x10</a>, <a class="el" href="lcd_8h-source.html#l00166">LCD_FUNCTION_5x8</a>, <a class="el" href="lcd_8h-source.html#l00156">LCD_FUNCTION_8BIT</a>, <a class="el" href="lcd_8c-source.html#l00165">lcd_nibble()</a>, <a class="el" href="lcd_8c-source.html#l00020">lcd_position</a>, <a class="el" href="lcd_8c-source.html#l00043">LCD_RS()</a>, and <a class="el" href="lcd_8c-source.html#l00267">lcd_set_controller()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g52872b8bc9e8fc6988edb1dad61a33a2"></a><!-- doxytag: member="lcd.c::lcd_linewrap" ref="g52872b8bc9e8fc6988edb1dad61a33a2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_linewrap           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
(internal function) If the cursor has passed the end of a line, set the position to the beginning of the next line 
<p>
This internal function is used for automatic line wrapping. It is necessary because the memory addresses of a line are not always consecutive: A 2x8 character display has line 1 at address 0-7 and line 2 at address 40-47. 
<p>Definition at line <a class="el" href="lcd_8c-source.html#l00386">386</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00020">lcd_position</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00403">lcd_putchar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8531c55ba576c0b39c0d72bd6617c91f"></a><!-- doxytag: member="lcd.c::lcd_print" ref="g8531c55ba576c0b39c0d72bd6617c91f" args="(char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_print           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a string after clearing the display. 
<p>
This clears the display, and then writes a string starting at the home position.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>The string to be displayed (zero-terminated array of char) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00450">450</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00276">lcd_clear()</a>, and <a class="el" href="lcd_8c-source.html#l00424">lcd_putstr()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb55f2679b2a60dd5ff9795feddffb4ba"></a><!-- doxytag: member="lcd.c::lcd_putchar" ref="gb55f2679b2a60dd5ff9795feddffb4ba" args="(char chr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_putchar           </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>chr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a single char to the LCD at the current position. 
<p>
This will print a single char and move to the next position (with automatic linewrapping). If the current character was the last character on the display, the cursor will remain at the end of the display.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chr</em>&nbsp;</td><td>The character (even 0x00 is allowed and will be printed). </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00403">403</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00143">lcd_data()</a>, <a class="el" href="lcd_8c-source.html#l00386">lcd_linewrap()</a>, <a class="el" href="lcd_8c-source.html#l00020">lcd_position</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00424">lcd_putstr()</a>, and <a class="el" href="lcd_8c-source.html#l00437">lcd_putstr_P()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g441efb2945fb74fafb7914d6bd2d8161"></a><!-- doxytag: member="lcd.c::lcd_putstr" ref="g441efb2945fb74fafb7914d6bd2d8161" args="(char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_putstr           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a string starting at the current position. 
<p>
This will print a string with automatic linewrapping. If the string is longer than the display, it will be displayed in multiple parts without a delay inbetween.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>The string to be displayed (zero-terminated array of char) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00424">424</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00403">lcd_putchar()</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00450">lcd_print()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd3226e2e167c11093fa3641e5f33f732"></a><!-- doxytag: member="lcd.c::lcd_putstr_P" ref="gd3226e2e167c11093fa3641e5f33f732" args="(PGM_P str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_putstr_P           </td>
          <td>(</td>
          <td class="paramtype">PGM_P&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a string from ROM starting at the current position. 
<p>
This will print a string with automatic linewrapping. If the string is longer than the display, it will be displayed in multiple parts without a delay inbetween.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>str</em>&nbsp;</td><td>The string to be displayed (zero-terminated array of char in ROM) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00437">437</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00403">lcd_putchar()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g615cf8980680849dce3c379d30e30ec6"></a><!-- doxytag: member="lcd.c::lcd_set_controller" ref="g615cf8980680849dce3c379d30e30ec6" args="(uint8_t num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_set_controller           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>num</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
(internal function) Select the controller 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>The controller number (counted from zero) or LCD_ALL_CONTROLLERS. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00267">267</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00022">lcd_controller</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00276">lcd_clear()</a>, <a class="el" href="lcd_8c-source.html#l00250">lcd_home()</a>, <a class="el" href="lcd_8c-source.html#l00181">lcd_init()</a>, <a class="el" href="lcd_8c-source.html#l00351">lcd_set_cursor()</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9a4f2e437d82747664790aed0f1e4b69"></a><!-- doxytag: member="lcd.c::lcd_set_cursor" ref="g9a4f2e437d82747664790aed0f1e4b69" args="(uint8_t mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_set_cursor           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>mode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the cursor mode, switches the LCD on or off. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>LCD_CURSOR_OFF, LCD_CURSOR_ON, LCD_BLINK or LCD_CURSOR_AND_BLINK For two-controller LCDs: The cursor is only enabled for the current controller and disabled for the other controller. As soon as the cursor reaches the second display, the cursor is disabled on the first display and enabled on the second: When a controller change is done by <a class="el" href="group__lcd__functions.html#g2f118878f15d5d64fade1bbc193be2fc" title="Go to the specified position.">lcd_set_position()</a>, it calls <a class="el" href="group__lcd__functions.html#g9a4f2e437d82747664790aed0f1e4b69" title="Set the cursor mode, switches the LCD on or off.">lcd_set_cursor()</a> again with the current mode, which is stored in the global variable lcd_cursor_mode. lcd_set_position is called automatically through <a class="el" href="group__lcd__functions.html#g52872b8bc9e8fc6988edb1dad61a33a2" title="(internal function) If the cursor has passed the end of a line, set the position...">lcd_linewrap()</a> by <a class="el" href="group__lcd__functions.html#gb55f2679b2a60dd5ff9795feddffb4ba" title="Write a single char to the LCD at the current position.">lcd_putchar()</a>, <a class="el" href="group__lcd__functions.html#g8531c55ba576c0b39c0d72bd6617c91f" title="Write a string after clearing the display.">lcd_print()</a> and <a class="el" href="group__lcd__functions.html#g441efb2945fb74fafb7914d6bd2d8161" title="Write a string starting at the current position.">lcd_putstr()</a>. </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>test the new version of this function, especially two-controller cursor handling </dd></dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00351">351</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00132">lcd_command()</a>, <a class="el" href="lcd_8h-source.html#l00130">LCD_CONTROL</a>, <a class="el" href="lcd_8h-source.html#l00140">LCD_CONTROL_BLINK</a>, <a class="el" href="lcd_8h-source.html#l00138">LCD_CONTROL_CURSOR_OFF</a>, <a class="el" href="lcd_8h-source.html#l00136">LCD_CONTROL_CURSOR_ON</a>, <a class="el" href="lcd_8h-source.html#l00134">LCD_CONTROL_DISPLAY_OFF</a>, <a class="el" href="lcd_8h-source.html#l00132">LCD_CONTROL_DISPLAY_ON</a>, <a class="el" href="lcd_8c-source.html#l00022">lcd_controller</a>, <a class="el" href="lcd_8c-source.html#l00024">lcd_cursor_mode</a>, <a class="el" href="lcd_8c-source.html#l00340">LCD_OFF</a>, <a class="el" href="lcd_8c-source.html#l00338">LCD_ON_CURSOR_AND_BLINK</a>, <a class="el" href="lcd_8c-source.html#l00336">LCD_ON_CURSOR_BLINK</a>, <a class="el" href="lcd_8c-source.html#l00332">LCD_ON_CURSOR_OFF</a>, <a class="el" href="lcd_8c-source.html#l00334">LCD_ON_CURSOR_ON</a>, and <a class="el" href="lcd_8c-source.html#l00267">lcd_set_controller()</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00250">lcd_home()</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g2f118878f15d5d64fade1bbc193be2fc"></a><!-- doxytag: member="lcd.c::lcd_set_position" ref="g2f118878f15d5d64fade1bbc193be2fc" args="(uint8_t position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_set_position           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>position</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Go to the specified position. 
<p>
The position is stored in the global variable lcd_position. The command LCD_SET_DDRAM_ADDR then sets the position in the LCD controller. This also affects the cursor. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>The character number (Example: for a 4x20 character display the third line starts at 40) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00292">292</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00132">lcd_command()</a>, <a class="el" href="lcd_8c-source.html#l00022">lcd_controller</a>, <a class="el" href="lcd_8c-source.html#l00024">lcd_cursor_mode</a>, <a class="el" href="lcd_8c-source.html#l00020">lcd_position</a>, <a class="el" href="lcd_8c-source.html#l00267">lcd_set_controller()</a>, <a class="el" href="lcd_8c-source.html#l00351">lcd_set_cursor()</a>, and <a class="el" href="lcd_8h-source.html#l00172">LCD_SET_DDRAM_ADDR</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00276">lcd_clear()</a>, <a class="el" href="lcd_8c-source.html#l00386">lcd_linewrap()</a>, <a class="el" href="lcd_8c-source.html#l00403">lcd_putchar()</a>, and <a class="el" href="lcd_8c-source.html#l00283">lcd_set_line()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g932614e4a3dde92103df18b6868da624"></a><!-- doxytag: member="lcd.c::lcd_write" ref="g932614e4a3dde92103df18b6868da624" args="(uint8_t data, uint8_t rs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lcd_write           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>rs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data or commands to the LCD. 
<p>
Edit this function to add your own way of 8 interfacing the LCD in 8-bit-mode (e.g. by shift register). In 4-bit-mode this calls <a class="el" href="group__lcd__functions.html#ga5ed1c9a2a2fde3f98b02102c889dab9" title="Write a half-byte in 4-bit-mode to the LCD.">lcd_nibble()</a> to send the half-bytes. 
<p>Definition at line <a class="el" href="lcd_8c-source.html#l00153">153</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>References <a class="el" href="lcd_8c-source.html#l00165">lcd_nibble()</a>, and <a class="el" href="lcd_8c-source.html#l00043">LCD_RS()</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00132">lcd_command()</a>, and <a class="el" href="lcd_8c-source.html#l00143">lcd_data()</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g47953d9e2decd2990fc652bde6fe1683"></a><!-- doxytag: member="lcd.c::lcd_controller" ref="g47953d9e2decd2990fc652bde6fe1683" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__lcd__functions.html#g47953d9e2decd2990fc652bde6fe1683">lcd_controller</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
global variable that stores the active controller (or 255 for all controllers). 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__lcd__functions.html#g615cf8980680849dce3c379d30e30ec6" title="(internal function) Select the controller">lcd_set_controller()</a> </dd></dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00022">22</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00056">LCD_EN()</a>, <a class="el" href="lcd_8c-source.html#l00267">lcd_set_controller()</a>, <a class="el" href="lcd_8c-source.html#l00351">lcd_set_cursor()</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbf201c7a38b9d01b88cdae2abe2ea3b0"></a><!-- doxytag: member="lcd.c::lcd_cursor_mode" ref="gbf201c7a38b9d01b88cdae2abe2ea3b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__lcd__functions.html#gbf201c7a38b9d01b88cdae2abe2ea3b0">lcd_cursor_mode</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
global variable that stores the last cursor mode 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__lcd__functions.html#g9a4f2e437d82747664790aed0f1e4b69" title="Set the cursor mode, switches the LCD on or off.">lcd_set_cursor()</a> </dd></dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00024">24</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00250">lcd_home()</a>, <a class="el" href="lcd_8c-source.html#l00351">lcd_set_cursor()</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1d540b50dad7f76e97d843dd6f14a855"></a><!-- doxytag: member="lcd.c::lcd_position" ref="g1d540b50dad7f76e97d843dd6f14a855" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__lcd__functions.html#g1d540b50dad7f76e97d843dd6f14a855">lcd_position</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
global variable that stores the current position. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__lcd__functions.html#g2f118878f15d5d64fade1bbc193be2fc" title="Go to the specified position.">lcd_set_position()</a> </dd></dl>

<p>Definition at line <a class="el" href="lcd_8c-source.html#l00020">20</a> of file <a class="el" href="lcd_8c-source.html">lcd.c</a>.</p>

<p>Referenced by <a class="el" href="lcd_8c-source.html#l00250">lcd_home()</a>, <a class="el" href="lcd_8c-source.html#l00181">lcd_init()</a>, <a class="el" href="lcd_8c-source.html#l00386">lcd_linewrap()</a>, <a class="el" href="lcd_8c-source.html#l00403">lcd_putchar()</a>, and <a class="el" href="lcd_8c-source.html#l00292">lcd_set_position()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Nov 6 17:15:22 2010 for HD44780 Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
